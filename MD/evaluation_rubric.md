# evaluation_rubric.md (평가 기준)

안티그래비티는 다음 기준에 따라 작업 결과물을 평가합니다. 이 평가는 에이전트의 지속적인 개선과 품질 유지를 목표로 합니다.

## 1. 평가 차원 및 가중치

각 작업 결과물은 다음 차원별로 평가되며, 최종 점수는 가중치 합산으로 계산됩니다.

| 평가 차원 (Dimension) | 설명 (Description) | 가중치 (Weight) |
| :------------------- | :----------------------------------------------------------------------------- | :-------------- |
| **D1. Factual Accuracy (사실적 정확성)** | 제공된 정보, 코드 논리, 데이터 처리 등이 사실과 일치하는 정도. | 0.3 |
| **D2. Completeness (완전성)** | 요청된 모든 요구사항과 기능이 누락 없이 구현되거나 설명되었는지 여부. | 0.25 |
| **D3. Adherence to Standards (표준 준수)** | `design_guide.md`, `tech.md` 등 SSOT에 명시된 코딩 표준, 디자인 가이드, 아키텍처 원칙을 준수하는 정도. | 0.2 |
| **D4. Tool Efficiency (도구 효율성)** | 작업을 수행하는 데 필요한 도구를 적절하고 효율적으로 사용했는지 여부. (예: 불필요한 도구 호출, 비효율적 파일 탐색 등) | 0.15 |
| **D5. Readability & Maintainability (가독성 및 유지보수성)** | 생성된 코드나 문서가 이해하기 쉽고, 향후 수정 및 확장이 용이한 정도. | 0.1 |

## 2. 채점 기준 (Scoring Rubric)

각 평가 차원은 1점에서 5점 척도로 채점됩니다.

### D1. Factual Accuracy (사실적 정확성)
*   **5점 (Excellent):** 모든 정보가 정확하며, 오류나 환각이 전혀 없음.
*   **4점 (Good):** 사소한 오류가 있을 수 있으나, 핵심 내용은 모두 정확함.
*   **3점 (Adequate):** 일부 부정확한 정보가 있으나, 전반적인 목표 달성에는 큰 지장이 없음.
*   **2점 (Needs Improvement):** 상당한 오류나 부정확한 정보가 포함되어 있어 수정이 필요함.
*   **1점 (Failed):** 심각한 오류나 환각으로 인해 결과물을 사용할 수 없음.

### D2. Completeness (완전성)
*   **5점 (Excellent):** 요청된 모든 요구사항이 완벽하게 반영됨.
*   **4점 (Good):** 대부분의 요구사항이 반영되었으나, 사소한 부분이 누락됨.
*   **3점 (Adequate):** 핵심 요구사항은 반영되었으나, 부가적인 부분이 많이 누락됨.
*   **2점 (Needs Improvement):** 주요 요구사항 일부가 누락되어 수정이 필요함.
*   **1점 (Failed):** 핵심 요구사항조차 반영되지 않아 재작업이 필요함.

### D3. Adherence to Standards (표준 준수)
*   **5점 (Excellent):** 모든 표준 및 가이드라인을 완벽하게 준수함.
*   **4점 (Good):** 대부분의 표준을 준수하나, 일부 사소한 예외가 있음.
*   **3점 (Adequate):** 주요 표준은 준수하나, 여러 부분에서 일관성이 부족함.
*   **2점 (Needs Improvement):** 표준 준수 미흡으로 인해 코드 리뷰 및 수정이 대량으로 필요함.
*   **1점 (Failed):** 표준을 거의 준수하지 않아 전면적인 재구조화가 필요함.

### D4. Tool Efficiency (도구 효율성)
*   **5점 (Excellent):** 도구를 최소한으로, 가장 효율적인 방식으로 사용하여 목표를 달성함.
*   **4점 (Good):** 도구를 효율적으로 사용했으나, 약간의 최적화 여지가 있음.
*   **3점 (Adequate):** 도구 사용이 비효율적인 부분이 있으나, 결과에는 큰 영향 없음.
*   **2점 (Needs Improvement):** 도구를 비효율적으로 사용하여 불필요한 비용이나 시간 낭비가 발생함.
*   **1점 (Failed):** 도구 사용 오류로 인해 작업을 완료하지 못하거나 심각한 비효율 발생.

### D5. Readability & Maintainability (가독성 및 유지보수성)
*   **5점 (Excellent):** 코드/문서가 명확하고, 주석 및 구조화가 완벽하여 쉽게 이해하고 수정할 수 있음.
*   **4점 (Good):** 대부분 명확하고 유지보수성이 높으나, 특정 부분에서 개선 여지가 있음.
*   **3점 (Adequate):** 이해하는 데 다소 노력이 필요하거나, 유지보수에 약간의 어려움이 있음.
*   **2점 (Needs Improvement):** 가독성이 낮고 유지보수가 어려워 리팩토링이 필요함.
*   **1점 (Failed):** 코드가 난해하여 이해하거나 수정하는 것이 거의 불가능함.

## 3. 평가 절차

1.  **작업 완료 후:** 에이전트가 작업을 완료하고 `CHANGELOG.md`에 기록한 후 평가를 시작합니다.
2.  **SSOT 검토:** 작업 관련 SSOT 파일 (`about_pulse.md`, `design_guide.md`, `tech.md`, `tools.md`)을 검토하여 작업의 맥락과 요구사항을 파악합니다.
3.  **차원별 채점:** 위 채점 기준에 따라 각 평가 차원별로 점수를 부여하고, 명확한 근거를 기록합니다.
4.  **최종 점수 계산:** 각 차원별 점수에 가중치를 곱하여 합산합니다.
    `Final Score = (D1_score * 0.3) + (D2_score * 0.25) + ...`
5.  **피드백 및 학습:** 최종 점수와 채점 근거를 바탕으로 에이전트에게 피드백을 제공하고, 개선이 필요한 영역을 식별하여 다음 작업에 반영합니다.

## 4. LLM-as-a-Judge 가이드라인

안티그래비티는 자체 평가를 위해 LLM을 평가자로 활용할 수 있으며, 이때 다음 가이드라인을 준수합니다.

*   **명확한 프롬프트:** 평가 지침, 평가 대상 작업물, SSOT 파일, 채점 기준을 명확하게 포함한 프롬프트를 구성합니다.
*   **사고 과정 요구:** LLM에게 점수와 함께 각 점수에 대한 구체적인 근거와 개선 사항을 제시하도록 지시합니다. (Chain-of-Thought)
*   **편향 완화:**
    *   **Position Bias:** 여러 결과물 비교 시 순서를 바꿔가며 평가하고 일관성을 확인합니다.
    *   **Length Bias:** 결과물의 길이에 관계없이 내용의 품질에만 집중하도록 명시적으로 지시합니다.
    *   **Self-Enhancement Bias:** 가능하다면 작업 생성 모델과 다른 모델을 평가자로 사용합니다.


